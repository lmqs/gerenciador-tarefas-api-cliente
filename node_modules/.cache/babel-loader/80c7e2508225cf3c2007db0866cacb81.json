{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"E:\\\\Estudo\\\\react\\\\udemy8projetos\\\\gerenciador-tarefas-api-cliente\\\\src\\\\listar\\\\remover-tarefa.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Button } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\nimport axios from 'axios';\n\nfunction RemoverTarefa(props) {\n  _s();\n\n  const API_URL_REMOVER_TAREFAS = 'http://localhost:3001/gerenciador-tarefas/';\n  const [exibirModal, setExibirModal] = useState(false);\n  const [exibirModalErro, setExibirModalErro] = useState(false);\n\n  function handleAbrirModal(event) {\n    // para evitar que abra navegação ou atualize a tela\n    event.preventDefault();\n    setExibirModal(true);\n  }\n\n  function handleFecharModal() {\n    setExibirModal(false);\n  }\n\n  function handleFecharModalErro() {\n    setExibirModalErro(false);\n  } // function handleRemoverTarefa(event){\n  //     event.preventDefault();\n  //     const tarefasDb = localStorage['tarefas'];\n  //     let tarefas = tarefasDb ? JSON.parse(tarefasDb) : [];\n  //     /**ignora a tarefa que o id for igual a tarefa.id */\n  //     tarefas = tarefas.filter(tarefa => tarefa.id !== props.tarefa.id);\n  //     localStorage['tarefas'] = JSON.stringify(tarefas);\n  //     setExibirModal(false);\n  //     props.recarregarTarefas(true); //atualizar a listafem da tarefa atual\n  // }\n\n\n  async function handleRemoverTarefa(event) {\n    event.preventDefault();\n\n    try {\n      await axios.delete(API_URL_REMOVER_TAREFAS + props.tarefa.id);\n      setExibirModal(false);\n      props.recarregarTarefas(true); //atualizar a listafem da tarefa atual\n    } catch (err) {\n      setExibirModalErro(true);\n      setExibirModal(true);\n    }\n  }\n  /**\r\n   * vamos usar o modal, então precisamos controlar sua visibilidade\r\n  */\n\n\n  return (\n    /*#__PURE__*/\n    //um elemento para encapsular -> elemento neutro\n    _jsxDEV(\"span\", {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn-sm\",\n        variant: \"danger\",\n        onClick: handleAbrirModal,\n        \"data-testid\": \"btn-abrir-modal\",\n        children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n          icon: faTrashAlt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: exibirModal,\n        onHide: handleFecharModal,\n        \"data-testid\": \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Remover tarefa\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: [\"Deseja realmente remover a tarefa?\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: props.tarefa.nome\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleRemoverTarefa,\n            \"data-testid\": \"btn-remover\",\n            children: \"Sim\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"light\",\n            onClick: handleFecharModal,\n            \"data-testid\": \"btn-fechar-modal\",\n            children: \"N\\xE3o\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: exibirModalErro,\n        onHide: handleFecharModalErro,\n        \"data-testid\": \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Erro \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: \"Erro ao excluir tarefa, tente novamente em instantes.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"warning\",\n            onClick: handleFecharModalErro,\n            children: \"Fechar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this)\n  );\n}\n\n_s(RemoverTarefa, \"xN0Q0LkpcAwodNreBreSz4JyDhQ=\");\n\n_c = RemoverTarefa;\nRemoverTarefa.propTypes = {\n  tarefa: PropTypes.object.isRequired,\n  recarregarTarefas: PropTypes.func.isRequired //função obrigatório\n\n};\nexport default RemoverTarefa;\n\nvar _c;\n\n$RefreshReg$(_c, \"RemoverTarefa\");","map":{"version":3,"sources":["E:/Estudo/react/udemy8projetos/gerenciador-tarefas-api-cliente/src/listar/remover-tarefa.js"],"names":["React","useState","PropTypes","Modal","Button","FontAwesomeIcon","faTrashAlt","axios","RemoverTarefa","props","API_URL_REMOVER_TAREFAS","exibirModal","setExibirModal","exibirModalErro","setExibirModalErro","handleAbrirModal","event","preventDefault","handleFecharModal","handleFecharModalErro","handleRemoverTarefa","delete","tarefa","id","recarregarTarefas","err","nome","propTypes","object","isRequired","func"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, Button }  from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\n\r\nfunction RemoverTarefa(props){\r\n\r\n    const API_URL_REMOVER_TAREFAS = 'http://localhost:3001/gerenciador-tarefas/';\r\n\r\n\r\n\r\n    const [exibirModal, setExibirModal] = useState(false);\r\n    const [exibirModalErro, setExibirModalErro] = useState(false);\r\n\r\n    function handleAbrirModal(event){\r\n        // para evitar que abra navegação ou atualize a tela\r\n        event.preventDefault();\r\n        setExibirModal(true);\r\n    }\r\n\r\n\r\n    function handleFecharModal(){\r\n        setExibirModal(false);\r\n    }\r\n\r\n    function handleFecharModalErro(){\r\n        setExibirModalErro(false);\r\n    }\r\n\r\n    // function handleRemoverTarefa(event){\r\n    //     event.preventDefault();\r\n    //     const tarefasDb = localStorage['tarefas'];\r\n    //     let tarefas = tarefasDb ? JSON.parse(tarefasDb) : [];\r\n    //     /**ignora a tarefa que o id for igual a tarefa.id */\r\n    //     tarefas = tarefas.filter(tarefa => tarefa.id !== props.tarefa.id);\r\n        \r\n\r\n    //     localStorage['tarefas'] = JSON.stringify(tarefas);\r\n    //     setExibirModal(false);\r\n    //     props.recarregarTarefas(true); //atualizar a listafem da tarefa atual\r\n    // }\r\n\r\n    async function handleRemoverTarefa(event){\r\n        event.preventDefault();\r\n        \r\n        try{\r\n\r\n            await axios.delete(API_URL_REMOVER_TAREFAS+props.tarefa.id);\r\n\r\n            setExibirModal(false);\r\n            props.recarregarTarefas(true); //atualizar a listafem da tarefa atual\r\n        }catch(err){\r\n            setExibirModalErro(true);\r\n            setExibirModal(true);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * vamos usar o modal, então precisamos controlar sua visibilidade\r\n    */\r\n    return(\r\n        //um elemento para encapsular -> elemento neutro\r\n        <span >\r\n            <Button className=\"btn-sm\" variant=\"danger\" onClick={handleAbrirModal} data-testid=\"btn-abrir-modal\" >\r\n                <FontAwesomeIcon icon={faTrashAlt} />\r\n            </Button>\r\n            <Modal show={exibirModal} onHide={handleFecharModal} data-testid=\"modal\">\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Remover tarefa</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Deseja realmente remover a tarefa?\r\n                    <br/>\r\n                    <strong>{props.tarefa.nome}</strong>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"primary\" onClick={handleRemoverTarefa} data-testid=\"btn-remover\">\r\n                        Sim\r\n                    </Button>\r\n                    <Button variant=\"light\" onClick={handleFecharModal} data-testid=\"btn-fechar-modal\">\r\n                        Não\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n            <Modal show={exibirModalErro} onHide={handleFecharModalErro} data-testid=\"modal\">\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Erro </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    Erro ao excluir tarefa, tente novamente em instantes.\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"warning\" onClick={handleFecharModalErro}>\r\n                        Fechar\r\n                    </Button>\r\n\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n        </span>\r\n    );\r\n\r\n}\r\n\r\n\r\nRemoverTarefa.propTypes= {\r\n    tarefa: PropTypes.object.isRequired,\r\n    recarregarTarefas: PropTypes.func.isRequired //função obrigatório\r\n\r\n}\r\n\r\nexport default RemoverTarefa;"]},"metadata":{},"sourceType":"module"}